# APS Prep - 留德审核部 (APS) 备考助手

APS Prep 是一个专为留德审核部 (APS) 面试准备而设计的现代化 Web 应用。它结合了结构化的课程复习、每日打卡和基于 AI 的模拟面试功能，帮助考生高效备考。

## ✨ 主要功能 (Features)

*   **核心课程复习**: 包含遥感 (Remote Sensing) 与 GIS 等 14 门核心课程的考点梳理。
    *   **动态内容**: 课程数据存储于云端 (Firestore)，支持实时更新。
    *   **逻辑导图**: 清晰的知识点 Logic Tree 展示。
*   **AI 模拟面试 (Interview Simulator)**:
    *   **Gemini 驱动**: 集成 Google Gemini API，模拟真实考官出题。
    *   **双语支持**: 题目与答案均提供中英文对照。
    *   **智能出题**: 支持概念考察及跨学科/跨课程的对比分析。
    *   **云端题库**: 所有生成的题目自动同步至云端，支持跨设备复习。
*   **毕业论文复习 (Graduation Thesis)**:
    *   **专属模块**: 针对《基于混合现实平台的街景图像解译》的结构化考点梳理。
    *   **双语支持**: 支持中英一键切换，适应不同语言面试。
    *   **核心内容**: 包含理论基础、算法改进 (EfficientNet)、系统开发等关键点。
*   **备考打卡 (Check-in System)**:
    *   可视化打卡日历。
    *   连续打卡天数 (Streak) 统计与激励。
    *   累计打卡总天数统计。
*   **用户设置**:
    *   支持自定义 API Key。
    *   多模型切换 (包含最新的 Gemini 3.0 Flash)。

## 🛠 技术栈 (Tech Stack)

*   **前端**: React, Vite, Tailwind CSS
*   **后端/数据库**: Firebase Firestore
*   **AI**: Google Gemini API
*   **图标**: Lucide React

---

## 📅 更新日志 (Changelog)

### v2.10.0 (2026-01-24)

**feat: 移动端适配与交互大幅升级**

#### 主要更新内容：

1.  **知识图谱移动端适配 (KG Mobile Experience)**
    *   **手势增强**: 支持 **双指捏合缩放 (Pinch-to-Zoom)** 和 **单指平滑拖拽**，完美适配触屏设备。
    *   **智能布局**: 引入 **固定画布 (Fixed Canvas)** 方案，彻底解决了小屏幕下节点重叠错位的问题；新增 **自动适屏 (Auto-Fit)** 功能，移动端加载时自动调整缩放比例至最佳视野。
    *   **交互优化**: 优化了点击与拖拽的识别逻辑 (Threshold Detection)，解决了“想点击查看详情却误触拖拽”的痛点，操作更精准。

2.  **全界面空间优化 (UI Space Optimization)**
    *   **主菜单折叠**: 左侧主侧边栏新增 **折叠/展开** 功能，支持切换为 **图标模式 (Icon Mode)**，大幅增加工作区可视面积。
    *   **图谱侧边栏折叠**: 知识图谱界面的课程列表同样支持折叠，且在移动端选中课程后自动收起，让图谱展示最大化。

3.  **细节打磨**
    *   修复了拖拽状态更新延迟导致的“拖拽失效”Bug (Ref-based Tracking)。
    *   优化了缩放控件的触摸热区，提升点击体验。

### v2.9.0 (2026-01-24)

**feat: 知识图谱体验升级与毕业论文模块 (Knowledge Graph Upgrade & Thesis Module)**

#### 主要更新内容：

1.  **知识图谱体验升级 (Knowledge Graph 2.0)**
    *   **双语多行标签 (Bilingual Multi-line Labels)**: 关系标签现支持 **中英双语** 显示（如“理论基础 / Foundation”），并采用 **双行紧凑布局**，彻底解决了标签遮挡课程节点的问题。
    *   **智能布局优化**: 标签精准定位在连接线 **40%** 处，视觉更清晰，层级更分明。
    *   **双向关系 (Bidirectional Relations)**: 自动计算反向关系（“被...”），让知识关联更完整。
    *   **交互导航增强**: 点击中心节点可直接查看课程详情；新增 **智能历史记录**，仅在关系跳转时显示返回按钮，操作更符合直觉。

2.  **毕业论文复习模块 (Graduation Thesis Module)**
    *   **专属复习页**: 新增 **"毕业论文 (Thesis)"** 独立板块，针对《基于混合现实平台的街景图像解译》进行核心考点梳理。
    *   **中英双语切换 (Language Toggle)**: 顶部新增 **"文/EN"** 切换按钮，一键切换全界面语言，满足英/德语面试需求。
    *   **结构化考点**: 涵盖 **基本信息**、**核心理论** (CNN/YOLO/EfficientNet)、**算法改进** (EfficientNet Backbone) 及 **系统开发** (MR/Unity) 四大核心板块。
    *   **面试自测 (Quick Check)**: 内置 APS 常见提问与简明回答 (`Purpose`, `Why EfficientNet?`, `Strategies` 等)。

### v2.8.0 (2026-01-22)

**feat: 扩充测绘与计算机类核心课程库与数据同步功能**

#### 主要更新内容：

1.  **课程库大幅扩充 (Course Library Expansion)**
    *   **新增“测绘与空间信息类”**: 包含大地测量、摄影测量、LiDAR、GNSS、三维GIS、数字测图等 14 门专业核心课。
    *   **新增“数据科学与编程类”**: 包含数据结构、计算机视觉(CV)、模式识别、C/C++等 7 门计算机类硬核课程。
    *   **新增“数学与自然科学基础类”**: 包含微积分、线代、概统、大物、化学、地质、生态等 14 门理工科基础课。
    *   **深度内容完善**: 现有 4 大类共 49 门课程均配备了详细的 **中英对照简介**、**核心术语 (Key Terms)**、**知识体系树 (Logic Tree)** 和 **课程目标**。

2.  **数据与设置优化 (Data & Settings)**
    *   **数据同步功能 (Cloud Sync)**: 在设置页新增 **“☁️ 同步本地数据到云端”** 功能，允许用户一键将本地代码中新添加的课程配置上传并覆盖至云端数据库。
    *   **缓存机制升级**: 升级 `useCourseData` 缓存策略，确保版本迭代时用户能自动获取最新的课程数据，无需手动清除缓存。

### v2.7.0 (2026-01-17)

**feat: 新增 AI 智能学习建议 (Smart Learning Suggestions)**

#### 主要更新内容：

1.  **AI 学习导航 (AI Learning Guidance)**
    *   **智能建议生成**: AI 在评估课程掌握度的同时，会根据当前笔记内容与课程目标的差距，自动生成简短、具体的 **"下一步建议" (Next Step)**。
    *   **中文本地化**: 针对中文用户优化 Prompt，确保学习建议以中文输出，清晰易懂。
    *   **可视化反馈**: 在课程详情页 (CourseModal) 顶部增加醒目的建议展示区，通过高亮与图标提示，指引复习方向。

2.  **数据与逻辑优化**
    *   **云端持久化**: 学习建议字段 (`suggestion`) 同步存储至 Firebase Firestore，支持多端同步查看。
    *   **智能更新策略**: 优化了一键更新逻辑，确保即使笔记数量未变，若缺失建议字段也会自动触发 AI 补充生成。

### v2.6.0 (2026-01-11)

**feat: AI 掌握度评估优化与全链路搜索增强**

#### 主要更新内容：

1.  **智能进度管理 (Smart Progress Tracking)**
    *   **非单调性评估**: AI 评分不再只增不减，支持根据笔记删除或修改动态调整分数，更真实反映当前掌握情况。
    *   **一键更新加速**: 优化批量更新逻辑，增加 `noteCount` 校验，自动跳过内容未变更的课程，极大提升更新速度并节省 API 额度。
    *   **零状态展示**: 优化无笔记课程的 UI 展示，统一显示 0% 进度条，视觉更统一。

2.  **深度搜索与高亮 (Deep Search & Highlighting)**
    *   **全链路高亮**: 搜索关键词现在会在 **课程列表**、**中英对照文本 (BiText)**、**逻辑导图 (LogicTree)** 以及 **笔记详情** 中同步高亮显示。
    *   **智能跳转**: 搜索结果支持点击直接定位到笔记的具体位置，并伴有 **闪烁动画 (Flash Effect)** 和 **自动滚动**，精准定位知识点。

3.  **用户体验优化 (UX Improvements)**
    *   **进度反馈**: 设置页面的“数据维护”新增实时进度条，直观展示批量更新的当前状态。
    *   **性能优化**: 在批量操作时避免对无变动课程进行不必要的 AI 请求。

### v2.0.0 (2026-01-11)

**feat: 重构前端架构，迁移内容至云端，全面升级 AI 面试功能**

#### 主要更新内容：

1.  **前端重构 (Refactoring)**
    *   将 `App.jsx` 拆分为模块化组件 (`Dashboard`, `CourseList`, `Settings`, `LogicTree` 等)。
    *   提取通用 Hook (`useFavicon`) 和工具函数，优化代码结构。

2.  **动态内容迁移 (Dynamic Content)**
    *   将硬编码的课程数据迁移至 **Firebase Firestore**。
    *   实现 `useCourseData` Hook，支持 **本地缓存 + 实时数据同步**，提升加载速度与灵活性。

3.  **打卡系统增强 (Check-in System)**
    *   新增 **“累计打卡天数”** 显示 (Total Days)。
    *   修正连续打卡 (Streak) 计算逻辑：断签超过 1 天自动重置，逻辑更严谨。

4.  **AI 模拟面试升级 (AI Interview Sim)**
    *   **动态出题**: 集成 Gemini API，点击即生成新题。
    *   **双语支持**: 全面支持 **中英双语 (Bilingual)** 问题与答案显示。
    *   **深度考察**: 优化 Prompt，增加对 **概念对比** 和 **课程联系** 类问题的考察。
    *   **云端同步**: 题目数据 **持久化至 Firestore**，多端实时同步，不再丢失。
    *   **交互优化**: 新增 **上一题/下一题** 导航、**历史题目列表** 视图，复习更便捷。

5.  **设置 (Settings)**
    *   新增 **Gemini 3.0 Flash** (Experimental) 模型选项。
